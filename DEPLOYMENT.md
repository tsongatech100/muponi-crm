# Deploying Muponi CRM to Render

## Prerequisites

1. A [Render account](https://render.com) (free tier available)
2. Your code pushed to a Git repository (GitHub, GitLab, or Bitbucket)
3. Your Supabase credentials from the `.env` file

## Deployment Steps

### 1. Push Your Code to Git

If you haven't already, push your code to GitHub:

```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin YOUR_REPO_URL
git push -u origin main
```

### 2. Create a New Web Service on Render

1. Go to [Render Dashboard](https://dashboard.render.com/)
2. Click **"New +"** and select **"Web Service"**
3. Connect your Git repository
4. Render will automatically detect the `render.yaml` file

### 3. Configure Environment Variables

In the Render dashboard, add these environment variables:

- `VITE_SUPABASE_URL`: Your Supabase URL (from `.env` file)
- `VITE_SUPABASE_ANON_KEY`: Your Supabase anon key (from `.env` file)
- `JWT_SECRET`: Will be auto-generated by Render
- `NODE_ENV`: Set to `production`

### 4. Deploy

Click **"Create Web Service"** and Render will:
- Install dependencies
- Build your React frontend
- Start your Express server
- Provide you with a live URL

## Post-Deployment

### Test Your Deployment

Once deployed, visit your Render URL and test:
1. Login functionality
2. Dashboard access
3. Database connectivity

### Default Login Credentials

Use the credentials from your Supabase database:
- Check the `users` table in your Supabase dashboard
- Or create a new user via the signup form

## Monitoring

- View logs in the Render dashboard
- Health check endpoint: `https://your-app.onrender.com/health`
- Render will automatically restart your service if it crashes

## Free Tier Limitations

Render's free tier:
- Service spins down after 15 minutes of inactivity
- First request after spindown takes ~30 seconds
- 750 hours/month of runtime

To keep it always active, upgrade to the paid tier ($7/month).

## Troubleshooting

### Build Failures
- Check the build logs in Render dashboard
- Ensure all dependencies are in `package.json`

### Runtime Errors
- Check runtime logs in Render dashboard
- Verify environment variables are set correctly

### Database Connection Issues
- Verify Supabase credentials are correct
- Check Supabase dashboard for connection status

## Support

For issues with:
- Render deployment: [Render Documentation](https://render.com/docs)
- Supabase: [Supabase Documentation](https://supabase.com/docs)
